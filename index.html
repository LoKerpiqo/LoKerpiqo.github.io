<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Muse","darkmode":false,"version":"8.18.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="This is my personal blog.">
<meta property="og:type" content="website">
<meta property="og:title" content="Xinheng Wu&#39;s blog">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Xinheng Wu&#39;s blog">
<meta property="og:description" content="This is my personal blog.">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Xinheng Wu">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Xinheng Wu's blog</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Xinheng Wu's blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Xinheng Wu</p>
  <div class="site-description" itemprop="description">This is my personal blog.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/23/Hash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xinheng Wu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinheng Wu's blog">
      <meta itemprop="description" content="This is my personal blog.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Xinheng Wu's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/23/Hash/" class="post-title-link" itemprop="url">Hash</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-23 11:28:25" itemprop="dateCreated datePublished" datetime="2023-09-23T11:28:25+10:00">2023-09-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Hash-maps-and-Sets"><a href="#Hash-maps-and-Sets" class="headerlink" title="Hash maps and Sets"></a>Hash maps and Sets</h1><p>hash maps and sets are implemented using <code>hasing</code>. </p>
<p><strong>Hash function</strong> is a function that takes an input (anything <strong>immutable</strong>) and deterministically converts it to an <strong>interger</strong> that is <strong>less than a fixed size</strong> predefined by the programmer. </p>
<h3 id="Hash-function-Array-Hash-map-dictionary"><a href="#Hash-function-Array-Hash-map-dictionary" class="headerlink" title="Hash function + Array &#x3D; Hash map&#x2F; dictionary"></a>Hash function + Array &#x3D; Hash map&#x2F; dictionary</h3><p>Recall that Array has O(1) random access. The main constraint with array is that they are a fixed size, and the indices have to be intergers. </p>
<p>When we use hash function to convers anything into an integer, we can remove array’s contraints of indices needing to be integers! </p>
<p><strong>Arrays</strong>, map integer <code>indices</code> to <code>values</code>. While, <strong>hash maps</strong> map <code>keys</code> to <code>values</code>. Hash maps’ key has to be immutable. Values can be anything. </p>
<p>Every major language has a built-in implementation of a hash map. For example, in Python they’re called <code>dictionaries</code> and declaring one is as simple as <code>dic = &#123;&#125;</code>.</p>
<p><strong>A hash map is an <code>unordered</code> data structure that stores key-value pairs.</strong> It can add&#x2F;remove elements in O(1), as well as update values of a key and check if a key exists in O(1). You can iterate over both key and values, but the iteration won’t necessarily follow any order. </p>
<blockquote>
<p>An <code>ordered</code> data structure is when insertion order is remembered. An <code>unordered</code> data structure is when the insertion order is not relevant. Hash function has preimage resistance so the insetion order cannot be known.  </p>
</blockquote>
<h3 id="Some-disadvantages"><a href="#Some-disadvantages" class="headerlink" title="Some disadvantages"></a>Some disadvantages</h3><ul>
<li>Collisions, solved by chaining (Linked List). </li>
<li>Use Prime number&#x2F; modules. </li>
<li>Hash maps can take up more spaces as a pre-defined fixed size was set. </li>
<li>Resizing hash maps is expensive as every key needs to be re-hashed.</li>
</ul>
<h2 id="Sets-for-check-existence"><a href="#Sets-for-check-existence" class="headerlink" title="Sets for check existence"></a>Sets for check existence</h2><p>Set uses the same mechanism for hasing keys into integers. Set just store this keys as their value and do not map to anything. So it is convenient to <strong>check existence</strong>.  </p>
<p>Sets <strong>do NOT track frequency</strong>, as same elements will be hashed into the same integer. </p>
<h3 id="When-we-want-to-use-Arrays-as-keys"><a href="#When-we-want-to-use-Arrays-as-keys" class="headerlink" title="When we want to use Arrays as keys?"></a>When we want to use Arrays as keys?</h3><p>Arrays are <code>mutable</code>, so how do we store an ordered array of elements as a key? </p>
<p>We need to convert an array into an unique immutable key. In Python, tuples are immutable, so it’s as easy as doing <code>tuple(arr)</code>. OR convert it to strings, for example, using comma to separate elements, <code>[1, 51, 163] --&gt; &quot;1,51,163&quot;</code>.</p>
<blockquote>
<p><strong>Two Sum (unordered)</strong><br>we have one point <code>i</code> to interate along the <code>nums</code>. Use a hash map <code>seen</code> to record element that been seen, <code>element: index</code>. At index <code>i</code>, calculate <code>rest = target - nums[i]</code>, if <code>rest</code> has been previously stored in <code>seen</code>, meaning that we now found two integers of <code>nums[i] + rest == target</code>. return <code>[seen[rest], i]</code>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">    seen = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">        rest = target - nums[i]</span><br><span class="line">        <span class="keyword">if</span> rest <span class="keyword">in</span> seen:</span><br><span class="line">            <span class="keyword">return</span> [i, seen[rest]]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            seen[nums[i]] = i</span><br><span class="line">    <span class="keyword">return</span> [-<span class="number">1</span>,-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<p>Time complexity: O(n). Space Complexity: O(n).</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">seen = <span class="built_in">set</span>()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">    <span class="keyword">if</span> s[i] <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">        seen.add(s[i])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> s[i]</span><br><span class="line"><span class="keyword">return</span> <span class="string">&quot; &quot;</span></span><br></pre></td></tr></table></figure>

<p>Anytime you find your algorithm running if … in …, then consider using a hash map or set to store elements to have these operations run in O(1).</p>
<h2 id="Counting"><a href="#Counting" class="headerlink" title="Counting"></a>Counting</h2><p>Counting is very common for hash maps. Anytime you need to track frequency of something, think about using a hash map to do it!</p>
<blockquote>
<p><strong>Example 1:</strong> You are given a string <code>s</code> and an integer <code>k</code>. Find the length of the longest substring that contains <strong>at most</strong> <code>k</code> distinct characters. <br><br>For example, given <code>s=&quot;eceba</code> and <code>k=2</code>, return <code>3</code>. The longest substring with at most <code>2</code> distinct characters is <code>ece</code>.</p>
</blockquote>
<p>This problem can be solved by Slide Window.  </p>
<ul>
<li>Extend the window size untill it become INVALID, meaning there are more than <code>k</code> distince characters in the window. </li>
<li>Use a hash map <code>counts</code> to keep frequencies of distinct characters in current window. </li>
<li>The number of distince characters can be calculated by <code>length (number of keys)</code> of counts. </li>
<li>While <code>length of counts &gt; k</code>, increment left, and reduce&#x2F;remove elements from <code>counts</code>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_longest_substring</span>(<span class="params">s, k</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">        counts[s[right]] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(counts) &gt; k:</span><br><span class="line">            counts[s[left]] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> counts[s[left]] == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">del</span> counts[s[left]]</span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        ans = <span class="built_in">max</span>(ans, right-left+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>
<p>Time Complexity: O(n). Space O(k). as the it will delete elements from counts once its length exceeds k. </p>
<blockquote>
<p><strong>2248. Intersection of Multiple Arrays</strong> Given a 2D array <code>nums</code> that contains <code>n</code> arrays of distinct integers, return a sorted array containing all the numbers that appear in all <code>n</code> arrays. </p>
</blockquote>
<p>Key to aware that numbers that appear in all <code>n</code> arrays have frequencies of <code>len(nums)</code>. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">intersection</span>(<span class="params">nums</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">for</span> arr <span class="keyword">in</span> nums:</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> arr:</span><br><span class="line">            counts[x] += <span class="number">1</span></span><br><span class="line">    n = <span class="built_in">len</span>(nums)</span><br><span class="line">    ans = []</span><br><span class="line">    <span class="keyword">for</span> key,value <span class="keyword">in</span> counts.items():</span><br><span class="line">        <span class="keyword">if</span> value == n:</span><br><span class="line">            ans.append(key)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sorted</span>(ans)</span><br></pre></td></tr></table></figure>
<p>Let <code>m</code> be the average length of <code>arr</code>.<br>Time complexity: O(n<em>m + mlogm) at worst case. Space complexity: O(m). If every element in <code>nums</code> are unique, then Space complexity is O(n</em>m).</p>
<blockquote>
<p><strong>Check Occurence Equal</strong>. Given a string s, determine if all characters have the same frequency.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">areOccurenceEqual</span>(<span class="params">s</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> s:</span><br><span class="line">        counts[ch]+=<span class="number">1</span></span><br><span class="line">    freq = counts.values() <span class="comment"># returns an array of frequencies!</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Counter(s).values()</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(<span class="built_in">set</span>(freq))==<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="Count-the-number-of-subarrays-with-an-“exact”-conostraint"><a href="#Count-the-number-of-subarrays-with-an-“exact”-conostraint" class="headerlink" title="Count the number of subarrays with an “exact” conostraint"></a>Count the number of subarrays with an “exact” conostraint</h3><blockquote>
<p><strong>Example: 560. Subarray Sum Equals k</strong> Given an integer array <code>nums</code> and an integer <code>k</code>, find the number of subarrays whose sum is equal to <code>k</code>.</p>
</blockquote>
<p>Key to understand that the difference between any two prefix sums, e.g., end at <code>i</code> and <code>j</code>, represents the sum of the subarray between <code>(i, j]</code>. </p>
<p>So, to find the subarrays whose sum is equal to <code>k</code>, we need to find the difference (of two prefix sums) to be <code>k</code>.</p>
<ul>
<li>Iterate over <code>nums</code>, calculate prefix sum by updating <code>curr</code> ending at curret index <code>i</code>.</li>
<li>if <code>curr - k</code> was a previous prefix sum, means we found two prefix sum whose difference is <code>k</code>. Update <code>ans+=1</code></li>
<li>Since there are non-posotive numbers, so same prefix sum can occur multiple times. meaning that multiple prefix sum can equal to <code>curr-k</code>. </li>
<li>So we use hash map <code>count</code> to track prefix sum frequencies. Instead, we update <code>ans += count[curr-k]</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">subarraySum</span>(<span class="params">nums, k</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    counts[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    ans, curr = <span class="number">0</span>, <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">        curr += num</span><br><span class="line">        ans += counts[curr-k]</span><br><span class="line">        counts[curr] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>1248. Count Number of Nice Subarrays.</strong> Given an array of positive integers nums and an integer k. Find the number of subarrays with exactly k odd numbers in them.</p>
</blockquote>
<p>Similar to previous question, but instead of using <code>curr</code> to calculate prefix sum,<br>here we use <code>curr</code> to record the number of odd elements till index <code>i</code>. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">NumberofNiceSubarray</span>(<span class="params">nums, k</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    counts[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">    ans, curr = <span class="number">0</span>, <span class="number">0</span> </span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">        <span class="keyword">if</span> num %<span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        ans += counts[curr-k]</span><br><span class="line">        counts[curr] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>


<h2 id="Hash-Table-Exersice"><a href="#Hash-Table-Exersice" class="headerlink" title="Hash Table Exersice"></a>Hash Table Exersice</h2><blockquote>
<p><strong>383. Ransom Note.</strong> Given two strings ransomNote and magazine, return true if ransomNote can be constructed by using the letters from magazine and false otherwise.<br><br> Each letter in magazine can only be used once in ransomNote.</p>
</blockquote>
<p>Meaning that frequency of ransomNote must be smaller or equal to frequency of magazine. and <code>m &lt; n</code>.</p>
<p>We can build a <code>count_mag</code> recording the frequency of magazine. And then iterate along ransomNote, if meeting a <code>ch</code> thats in <code>count_mag</code>, then reduce the frequency, till it become <code>0</code>.</p>
<p>If current <code>ch</code> in ransomNote is not in <code>count_mag</code> (i.e., <code>count_mag[ch] &lt;=0</code>) then return False. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">canConstruct</span>(<span class="params">ransomNote, magazine</span>):</span><br><span class="line">    m, n = <span class="built_in">len</span>(ransomNote), <span class="built_in">len</span>(magazine)</span><br><span class="line">    <span class="keyword">if</span> m &gt; n:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        count_mag = Counter(magazine)</span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> ransomNote:</span><br><span class="line">            <span class="keyword">if</span> count_mag[ch] &lt;= <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                count_mag[ch] -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>205. Isomorphic String</strong> Given two strings <code>s</code> and <code>t</code>, determine if they are isomorphic (when characters in <code>s</code> can be replaced to get <code>t</code>).<br><br>All occurrences of a character must be replaced with another character while preserving the order of characters.<br> No two characters may map to the same character, but a character may map to itself.</p>
</blockquote>
<ul>
<li>use a hash map <code>mapp</code>, map element of <code>s</code> to element of <code>t</code>. <code>map[c1] = c2</code></li>
<li>iterate along <code>zip(s,t)</code>, if <code>c1 in mapp</code>, check if <code>mapp[c1]==c2</code>.</li>
<li>else, check if c2 in mapp.values(). meaning that No 2 characters can map to the same character.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">isIsomorphic</span>(<span class="params">s, t</span>):</span><br><span class="line">    mapp = <span class="built_in">dict</span>()</span><br><span class="line">    <span class="keyword">for</span> c1, c2 <span class="keyword">in</span> <span class="built_in">zip</span>(s,t):</span><br><span class="line">        <span class="keyword">if</span> c1 <span class="keyword">in</span> mapp:</span><br><span class="line">            <span class="keyword">if</span> mapp[c1] != c2:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> c2 <span class="keyword">in</span> mapp.values():</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        mapp[c1] = c2 </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>290. Word Pattern</strong> Given a <code>pattern</code> and a string <code>s</code>, find if <code>s</code> follows the same pattern.<br>Here follow means a <code>full match</code>, such that there is a <code>bijection</code> between a letter in <code>pattern</code> and a non-empty word in <code>s</code>.</p>
</blockquote>
<p>Similar to last problem. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">wordPattern</span>(<span class="params">pattern, s</span>):</span><br><span class="line">    dicts = <span class="built_in">dict</span>()</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(pattern) != <span class="built_in">len</span>(s.split()):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ch, word <span class="keyword">in</span> <span class="built_in">zip</span>(pattern, s.split()):</span><br><span class="line">        <span class="keyword">if</span> ch <span class="keyword">in</span> dicts:</span><br><span class="line">            <span class="keyword">if</span> dicts[ch] != word:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> word <span class="keyword">in</span> dicts.values():</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        dicts[ch] = word</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>242. Valid Anagram</strong> Given two strings <code>s</code> and <code>t</code>, return <code>true</code> if <code>t</code> is an anagram of <code>s</code>, and <code>false</code> otherwise. <br><br>An Anagram is a word or phrase formed by rearranging the letters of a different word or phrase, typically using all the original letters exactly once.</p>
</blockquote>
<p>Similar to 383. Ransom Note.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">isAnagram</span>(<span class="params">s, t</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s) != <span class="built_in">len</span>(t):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    counts = Counter(s)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s) != <span class="built_in">len</span>(t):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> t:</span><br><span class="line">        <span class="keyword">if</span> counts[ch] &lt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            counts[ch] -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span> </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>49. Group Anagrams</strong> Given an array of strings strs, group the anagrams together. You can return the answer in any order.</p>
</blockquote>
<blockquote>
<p>Example 1:<br>Input: strs &#x3D; [“eat”,”tea”,”tan”,”ate”,”nat”,”bat”]<br><br>Output: [[“bat”],[“nat”,”tan”],[“ate”,”eat”,”tea”]]</p>
</blockquote>
<p><strong>Method 1</strong>. We can use sorted array as the key, as anagrams have the same sorted array. </p>
<ul>
<li>use a hash map of list. <code>defaultdict(list)</code>.</li>
<li>Iterate <code>ch</code> along <code>strs</code>, <code>sorted(ch)</code> as key, values are <code>ch</code>. </li>
<li>then, <code>counts.values</code> should be the ans.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">groupAnagrams</span>(<span class="params">strs</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> strs:</span><br><span class="line">        counts[<span class="string">&quot;&quot;</span>.join(<span class="built_in">sorted</span>(ch))].append(ch)</span><br><span class="line">    <span class="keyword">return</span> counts.values()</span><br></pre></td></tr></table></figure>
Time complexity: <code>O(n*mlogm)</code>, where n is the length of strs. m is the average length of str[i]. Space complexity: <code>O(m*n)</code>.</li>
</ul>
<p><strong>Method 2</strong>. we can use an <code>one-hot</code> array of length 26 to count the frequency of <code>str[i]</code>. For example, both <code>&quot;abc&quot;</code>,<code>&quot;cba&quot;</code> can be represented as <code>[1,1,1,0,0,0,0,0,....,0]</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">groupAnagrams</span>(<span class="params">strs</span>):</span><br><span class="line">    counts = defaultdict(<span class="built_in">list</span>)</span><br><span class="line">    <span class="keyword">for</span> ch <span class="keyword">in</span> strs:</span><br><span class="line">        key = [<span class="number">0</span>]*<span class="number">26</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> ch:</span><br><span class="line">            key[<span class="built_in">ord</span>(c) - <span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)] += <span class="number">1</span></span><br><span class="line">        counts[<span class="built_in">tuple</span>(key)].append(ch)</span><br><span class="line">    <span class="keyword">return</span> counts.values()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Two Sum (unsorted)</strong>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">nums, target</span>):</span><br><span class="line">    dicts = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">        rest = target - nums[i]</span><br><span class="line">        <span class="keyword">if</span> rest <span class="keyword">in</span> dicts:</span><br><span class="line">            <span class="keyword">return</span> [dicts[rest], i]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dicts[nums[i]] = i</span><br><span class="line">    <span class="keyword">return</span> [-<span class="number">1</span>, -<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>220. Happy Number</strong> Write an algorithm to determine if a number n is happy. A happy number is a number defined by the following process:</p>
</blockquote>
<ul>
<li>Starting with any positive integer, replace the number by the sum of the squares of its digits.</li>
<li>Repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1.</li>
<li>Those numbers for which this process ends in 1 are happy.<br>Return true if n is a happy number, and false if not.</li>
</ul>
<p><strong>Solution:</strong> By doing above operation, we will end in two ways:</p>
<ol>
<li>It eventually gets to 1.</li>
<li>It eventually gets stuck in a cycle (being seen in hash set).</li>
</ol>
<ul>
<li>Note that it cannot going to infinity, as <code>999</code> next number will be 243.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">isHappy</span>(<span class="params">n</span>):</span><br><span class="line">    seen = <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_next</span>(<span class="params">n</span>):</span><br><span class="line">        total_sum =<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            n, digit = <span class="built_in">divmod</span>(n, <span class="number">10</span>)</span><br><span class="line">            <span class="comment"># to take off every digit from the least significant one </span></span><br><span class="line">            total_sum += digit ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> total_sum</span><br><span class="line">    <span class="keyword">while</span> n != <span class="number">1</span> <span class="keyword">and</span> n <span class="keyword">not</span> <span class="keyword">in</span> seen:</span><br><span class="line">        seen.add(n)</span><br><span class="line">        n = get_next(n)</span><br><span class="line">    <span class="comment"># end while when n== 1 or n in seen.</span></span><br><span class="line">    <span class="keyword">return</span> n == <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Time complexity: O(logn). Space O(logn)</p>
<blockquote>
<p><strong>Contains Duplicate II</strong>. Given an integer array <code>nums</code> and an integer <code>k</code>, return <code>true</code> if there are two distinct indices <code>i</code> and <code>j</code> in the array such that <code>nums[i] == nums[j]</code> and <code>abs(i - j) &lt;= k</code>.</p>
</blockquote>
<p>Use a hash map <code>counts</code> to record element, with its <code>index + k</code>, so for any new element at index <code>j</code>, if it is in <code>counts</code>, chech if <code>j &lt; counts[nums[j]]</code>. if not, then update <code>counts[nums[j]]</code> with the new index <code>j + k</code>. This is because further element will not achieve <code>abs(i-j) &lt;=k</code> to <code>j</code> rather than to an earlier index. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">containsNearbyDuplicate</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">    counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">        <span class="keyword">if</span> nums[i] <span class="keyword">not</span> <span class="keyword">in</span> counts <span class="keyword">or</span> i &gt; counts[nums[i]]:</span><br><span class="line">            counts[nums[i]] = i+k</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>128. Longest Consecutive Sequence</strong> Given an unsorted array of integers <code>nums</code>, return the <code>length</code> of the longest consecutive elements sequence. You must write an algorithm that runs in O(n) time.</p>
</blockquote>
<blockquote>
<p>Example 2:<br>Input: nums &#x3D; [0,3,7,2,5,8,4,6,0,1]<br><br>Output: 9</p>
</blockquote>
<p>The difficulty of this problem lies on that we dont know where is the starting element of the longest sequence - it can be anywhere. So we may iterate through the <code>nums</code> to build sequence and update with the longest one. </p>
<p>Method 1. try brute force. Because the first element of longest sequence could be any position in nums. We can just iterate <code>num</code> along nums, build sequence for each <code>num</code>, update with the longest sequence.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">longestConsecutive</span>(<span class="params">nums</span>):</span><br><span class="line">    longest_sequence = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> nums:</span><br><span class="line">        curr = num</span><br><span class="line">        curr_sequence = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> curr + <span class="number">1</span> <span class="keyword">in</span> nums:</span><br><span class="line">            curr_sequence += <span class="number">1</span></span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">        longest_sequence = <span class="built_in">max</span>(longest_sequence, curr_sequence)</span><br><span class="line">    <span class="keyword">return</span> longest_sequence</span><br></pre></td></tr></table></figure>
<p><strong>Time complexity : O($n^3$).</strong> The outer loop runs exactly nnn times, and because <code>curr</code> increments by <code>1</code> during each iteration of the while loop, it runs in<br>O(n) time. Then, on each iteration of the while loop, an <code>O(n) lookup in the array</code> is performed. Therefore, this brute force algorithm is really three nested O(n) loops, which compound multiplicatively to a<br><code>cubic</code> runtime.</p>
<p>**Method2 ** We can optimize above brute force to O(n). Consider below, </p>
<ul>
<li>We can improve the check existence to O(1) with Hashset. </li>
<li>Improve by only build sequences from numbers that was not in part of a longer sequence. </li>
<li>For example, if <code>(num-1) in num_set</code>. then we can always achieve a longer sequence with <code>num-1</code> rather than <code>num</code>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">longestConsecutive</span>(<span class="params">nums</span>):</span><br><span class="line">    longest_sequence = <span class="number">0</span></span><br><span class="line">    num_set = <span class="built_in">set</span>(nums)</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> num_set:</span><br><span class="line">        <span class="keyword">if</span> num-<span class="number">1</span> <span class="keyword">not</span> <span class="keyword">in</span> num_set:</span><br><span class="line">            curr = num</span><br><span class="line">            curr_sequence = <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> curr+<span class="number">1</span> <span class="keyword">in</span> num_set:</span><br><span class="line">                curr += <span class="number">1</span></span><br><span class="line">                curr_sequence += <span class="number">1</span></span><br><span class="line">            longest_sequence = <span class="built_in">max</span>(longest_sequence, curr_sequence)</span><br><span class="line">    <span class="keyword">return</span> longest_sequence</span><br></pre></td></tr></table></figure>
<p><strong>Time Complexity: O(n).</strong> Although it may look like a O($n^2$) at first. But actually the while loop only happens when <code>num-1 not in num_set</code>. <strong>The while loop can only run in total of <code>n</code> times through the whole runtime of the algorithm.</strong> So the nested loops only runs for O(n) + O(n) &#x3D; O(n) time. </p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/21/Array-exercise/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xinheng Wu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinheng Wu's blog">
      <meta itemprop="description" content="This is my personal blog.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Xinheng Wu's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/21/Array-exercise/" class="post-title-link" itemprop="url">Array_exercise</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-21 21:58:18" itemprop="dateCreated datePublished" datetime="2023-09-21T21:58:18+10:00">2023-09-21</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Here we summarize TOP 150 frequent Leetcode problems that concern Arrays&#x2F;Strings about <strong>Two Pointers, Sliding Windows, and Prefix Sum</strong>. For each question, we provide behind logic, why use this data structure, implementation, and analysis on time&#x2F;space complexity. </p>
<h2 id="Two-Pointers"><a href="#Two-Pointers" class="headerlink" title="Two Pointers"></a>Two Pointers</h2><blockquote>
<p><strong>Leetcode 88. Merge Sorted Array.</strong> You are given two integer arrays <code>nums1</code> and <code>nums2</code>, sorted in non-decreasing order, and two integers <code>m</code> and <code>n</code>, representing the number of elements in <code>nums1</code> and <code>nums2</code> respectively. <br><br> Merge <code>nums1</code> and <code>nums2</code> into a single array sorted in non-decreasing order. The final sorted array should not be returned by the function, but instead be stored inside the array <code>nums1</code>. <br><br>To accommodate this, <code>nums1</code> has a length of <code>m + n</code>, where the first <code>m</code> elements denote the elements that should be merged, and the last <code>n</code> elements are set to <code>0</code> and should be ignored. <code>nums2</code> has a length of <code>n</code>.</p>
</blockquote>
<blockquote>
<p><strong>Example.</strong> Input: nums1 &#x3D; [1,2,3,0,0,0], m &#x3D; 3, nums2 &#x3D; [2,5,6], n &#x3D; 3<br>Output: [1,2,2,3,5,6]</p>
</blockquote>
<p>One thing needs to consider is that as we need to modify the <code>nums1</code> in place, then it might <strong>overwrite</strong> original element in <code>nums1</code> while we are merging from the start, e.g., selecting the minimal. One solution is to copy <code>nums1[:m]</code> into a separate array, i.e., <code>nums1copy</code>, then merge <code>nums1copy</code> and <code>nums2</code> into <code>nums1</code>. However this solution needs <strong>Space Complexity</strong> of $O(m)$. </p>
<p>Another solution is to <strong>merge from the end</strong>, by selecting the maximum of two arrays. Then we dont need to worry about overwritten as the last <code>n</code> elements in <code>nums1</code> are zeros and can be ignored. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">nums1, nums2, m, n</span>):</span><br><span class="line">    i, j = m-<span class="number">1</span>, n-<span class="number">1</span> </span><br><span class="line">    k = m+n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">0</span> &lt;= i <span class="keyword">and</span> <span class="number">0</span> &lt;= j:</span><br><span class="line">        <span class="keyword">if</span> nums1[i] &gt;= nums2[j]:</span><br><span class="line">            nums1[k] = nums1[i]</span><br><span class="line">            i -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nums1[k] = nums2[j]</span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        k -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j&gt;=<span class="number">0</span> :</span><br><span class="line">        nums1[k] = nums2[j]</span><br><span class="line">        k -= <span class="number">1</span></span><br><span class="line">        j -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> nums1</span><br></pre></td></tr></table></figure>
<p>Now, time complexity is O(m+n), space complexity is O(1).</p>
<blockquote>
<p><strong>Leetcode 27. Remove Element</strong> Given an integer array <code>nums</code> and an integer <code>val</code>, remove all occurences of <code>val</code> in <code>nums</code> <strong>in-place</strong>. The order of the elements may be changed. Then return the number of elements in <code>nums</code> which are not equal to <code>val</code>.</p>
</blockquote>
<p>we can have two pointers, one to scan which integers are equal to <code>val</code> then skip. If not equal then being written to <code>nums</code> by index <code>i</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">removeElement</span>(<span class="params">nums, val</span>):</span><br><span class="line">    i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    n = <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">while</span> j&lt;n:</span><br><span class="line">        <span class="keyword">if</span>  nums[j] == val:</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> i</span><br></pre></td></tr></table></figure>
<p><strong>Time Complexity</strong> at worst is O(n), space complexity is O(1).</p>
<blockquote>
<p><strong>Leetcode 26 Remove Duplicates from Sorted Array.</strong> Given an integer array <code>nums</code> sorted in non-decreasing order, remove the duplicates in-place such that each unique element apprears only once. the relative order of the elements should be kept the same. Then return the number of unique elements in <code>nums</code>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">removeDuplicates</span>(<span class="params">nums</span>):</span><br><span class="line">    n, i, j = <span class="built_in">len</span>(nums), <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> j&lt; n:</span><br><span class="line">        <span class="keyword">if</span> nums[i] == nums[j]:</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> i+<span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Leetcode 80 Remove Duplicates from Sorted Array.</strong> Given an integer array <code>nums</code> sorted in non-decreasing order, remove the duplicates in-place such that each unique element apprears <strong>at most twice</strong>. the relative order of the elements should be kept the same. Then return the number of unique elements in <code>nums</code>.</p>
</blockquote>
<p>Very similar to Leetcode 26. We also set two pointers, but the thing to consider is that whatever the first two integers are, we do not modify. So pointer <code>j</code> needs to start at index <code>2</code>, while pointer <code>i</code> needs to start at index <code>1</code>. We also add one condition when <code>nums[i] != nums[i-1]</code>, we do <code>nums[i] = nums[j]</code>. Otherwise, there will be more than two duplicates. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">removeDuplicates</span>(<span class="params">nums</span>):</span><br><span class="line">    n, i, j = <span class="built_in">len</span>(nums), <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> j&lt;n <span class="keyword">and</span> i&lt;n-<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == nums[j] <span class="keyword">and</span> nums[i] != nums[i-<span class="number">1</span>]) <span class="keyword">or</span> nums[i]!=nums[j]:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            nums[i] = nums[j]</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> i+<span class="number">1</span></span><br></pre></td></tr></table></figure>


<blockquote>
<p><strong>Leetcode 189. Rotate Array</strong> Given an integer array <code>nums</code>, rotate the array to the right by <code>k</code> steps, where <code>k</code> os non-negative. <br> Example: <code>nums = [1,2,3,4,5,6,7]</code>, <code>k=3</code>. Then <code>output = [5,6,7,1,2,3,4]</code>.</p>
</blockquote>
<p>We need to calculate actual rotate step, <code>k = k%len(nums)</code>. Then <code>nums[-k:]</code> becomes the first <code>k</code> elements of the output array. And nums[:-k] become the last part. If we solve this problem by creating a new output array, it would have space complexity of O(n).</p>
<p><strong>How to do it in-place with O(1) space?</strong><br>The key is to figure out that rotate array can be done by doing <strong>3 REVERSE</strong>.</p>
<ul>
<li>First reverse the whole nums.</li>
<li>Then reverse <code>nums[:k]</code>.</li>
<li>Then reverse <code>nums[k:]</code>.</li>
<li>However, as we need to do it in-place. So the reverse function need to be run on <code>nums</code>, rather than on <code>nums[:k]</code>. <br></li>
</ul>
<p>To solve this, we introduce two pointers <code>i</code> and <code>j</code> to indicate the reverse starting and ending indexes.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">rotate</span>(<span class="params">nums, k</span>):</span><br><span class="line">    k %= k/<span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reverse</span>(<span class="params">arr, i, j</span>):</span><br><span class="line">        <span class="keyword">while</span> i&lt;j:</span><br><span class="line">            arr[i], arr[j] = arr[j], arr[i]</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            j -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> arr</span><br><span class="line">    reverse(nums, <span class="number">0</span>, <span class="built_in">len</span>(nums)-<span class="number">1</span>)</span><br><span class="line">    reverse(nums, <span class="number">0</span>, k-<span class="number">1</span>)</span><br><span class="line">    reverse(nums, k, <span class="built_in">len</span>(nums)-<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>125. Valid Palindrome</strong> Given a string s, return true if it is a palindrome (lower case), or false otherwise. <br>Input: s &#x3D; “A man, a plan, a canal: Panama” <br> Output: true</p>
</blockquote>
<p>while <code>i&lt;j</code> and <code>s[i]</code> or <code>s[j]</code> not alphanumeric, we need to either move i or j further. If both are alphanumeric, check if <code>s[i] == s[j]</code> return <code>False</code> if not equal. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isPalindrome</span>(<span class="params">self, s</span>):</span><br><span class="line">        i, j = <span class="number">0</span>, <span class="built_in">len</span>(s)-<span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; j:</span><br><span class="line">            <span class="keyword">while</span> i&lt;j <span class="keyword">and</span> <span class="keyword">not</span> s[i].isalnum():</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> i&lt;j <span class="keyword">and</span> <span class="keyword">not</span> s[j].isalnum():</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> s[i].lower() != s[j].lower():</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    j -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>392. Is Subsequence</strong> Given two strings <code>s</code> and <code>t</code>, return <code>true</code> if <code>s</code> is a subsequence of <code>t</code>. or <code>false</code> otherwise. </p>
</blockquote>
<p>one pointer for <code>s</code>, another pointer for <code>t</code>. iterate their length. if <code>s[i]!=s[j]</code>, <code>j+=1</code>. if <code>s[i]==s[j]</code>, move both <code>i+=1</code> and <code>j+=1</code>. return <code>i==len(s)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isSubsequence</span>(<span class="params">self, s, t</span>):</span><br><span class="line">        i, j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(s) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(t):</span><br><span class="line">            <span class="keyword">if</span> s[i] != t[j]:</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i==<span class="built_in">len</span>(s)</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>167. Two Sum.</strong> Given an <code>1-indexed</code> integer array <code>numbers</code> that is already sorted in non-decreasing order. Find two numbers such that they add up to a specific <code>target</code> number. Return the indices of the two numbers <code>index1</code> and <code>index2</code>.<br>Input: numbers &#x3D; [2,7,11,15], target &#x3D; 9<br><br>Output: [1,2]<br><br>Explanation: 2 + 7 &#x3D; 9. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">twoSum</span>(<span class="params">numbers, target</span>):</span><br><span class="line">    n = <span class="built_in">len</span>(numbers)</span><br><span class="line">    i, j = <span class="number">0</span>, n-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> i &lt; j:</span><br><span class="line">        curr = numbers[i] + numbers[j]</span><br><span class="line">        <span class="keyword">if</span> curr == target:</span><br><span class="line">            <span class="keyword">return</span>[i+<span class="number">1</span>, j+<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">elif</span> curr &lt; target:</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            j -= <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>15. 3Sum</strong> Given an integer array nums, return all the triplets <code>[nums[i], nums[j], nums[k]]</code> such that <code>i != j, i != k, and j != k</code>, and <code>nums[i] + nums[j] + nums[k] == 0</code>. Notice that the solution set must not contain duplicate triplets.</p>
</blockquote>
<blockquote>
<p>Input: nums &#x3D; [-1,0,1,2,-1,-4]<br><br>Output: [[-1,-1,2],[-1,0,1]]</p>
</blockquote>
<p>Basically we can solve this by have one more pointer iterating through the array, while other two pointers do the 2Sum calculation. Before this, we need to sort the array as Two Pointer solution for 2Sum requested non-decreasing input. <br></p>
<p>Note that we need to consider to eliminate duplicate cases. which means check <code>nums[i]==nums[i-1]</code>, <code>nums[j] == nums[j-1]</code> and <code>nums[k] == nums[k+1]</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">threeSum</span>(<span class="params">nums</span>):</span><br><span class="line">    n = <span class="built_in">len</span>(nums)</span><br><span class="line">    ans = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">2</span>):</span><br><span class="line">        j = i+<span class="number">1</span></span><br><span class="line">        k = n-<span class="number">1</span></span><br><span class="line">        target = -nums[i]</span><br><span class="line">        <span class="keyword">if</span> i&gt;<span class="number">0</span> <span class="keyword">and</span> nums[i] == nums[i-<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">while</span> j&lt;k:</span><br><span class="line">            <span class="keyword">if</span> j &gt; i+<span class="number">1</span> <span class="keyword">and</span> nums[j] == nums[j-<span class="number">1</span>]:</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> k &lt; n-<span class="number">1</span> <span class="keyword">and</span> nums[k] == nums[k+<span class="number">1</span>]:</span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> nums[j] + nums[k] == target:</span><br><span class="line">                ans.append([nums[i], nums[j], nums[k]])</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> nums[j] + nums[k] &gt; target:</span><br><span class="line">                k -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>
<p>Time complexity: O($n^2$).</p>
<blockquote>
<p><strong>11. Container with Most Water.</strong> You are given an integer array <code>height</code> of length <code>n</code>. There are <code>n</code> vertical lines drawn such that the two endpoints of the <code>ith</code> line are <code>(i, 0)</code> and <code>(i, height[i])</code>. Find two lines that together with the x-axis form a container, such that the container contains the most water. Return the maximum amount of water a container can store. </p>
</blockquote>
<p>This problem asks the maximum <code>height * width</code>. We can consider two pointer at both end of the array, as moving the pointers, the <code>width</code> is decreasing. So we just need to always replace <code>the shorter vertical</code> with next pointer. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxArea</span>(<span class="params">height</span>):</span><br><span class="line">        left, right = <span class="number">0</span>, <span class="built_in">len</span>(height)-<span class="number">1</span></span><br><span class="line">        maxarea = <span class="number">0</span> </span><br><span class="line">        <span class="keyword">while</span> left &lt; right:</span><br><span class="line">            h = <span class="built_in">min</span>(height[left], height[right])</span><br><span class="line">            maxarea = <span class="built_in">max</span>(maxarea, h * (right-left))</span><br><span class="line">            <span class="keyword">if</span> height[left] &lt; height[right]:</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                right -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> maxarea</span><br></pre></td></tr></table></figure>

<h2 id="Sliding-Window"><a href="#Sliding-Window" class="headerlink" title="Sliding Window"></a>Sliding Window</h2><blockquote>
<p><strong>209. Minimum Size Subarray Sum</strong> Given an array of positive integers <code>nums</code> and a positive integer <code>target</code>, return the <code>minimal length</code> of a <code>subarray</code> whose sum is greater than or equal to <code>target</code>. If tehre is no such subarray, return <code>0</code> instead. </p>
</blockquote>
<p>This one asks the <code>shortest</code> subarray which is slightly different to problems asking <code>longest</code>. As in typical sliding window problem, we always keep expanding window and only shrink when it became INVALID.</p>
<p>Here it is opposite but share similar idea. </p>
<p>Recall that sliding window only consider VALID windows. Here VALID means <code>sum &gt;= target</code>. As we increment the <code>right</code> pointer, the sum is always increasing. Only as we increment the <code>left</code> pointer, i.e., removing element from the window, the window may become INVALID. And remember that <code>shorter is better</code>. So we can keep incrementing <code>left</code> till it become INVALID. Once it become INVALID, we increment <code>right</code> till it become VALID, and then we try to shrink the window as much as possible. </p>
<p><strong>Summarize:</strong></p>
<ol>
<li>Keep inrementing <code>right</code> to till VALID.</li>
<li>When VALID, keep incrementing <code>left</code> t0 find shortest VALID window. Use <code>ans</code> to update with the shortest one.</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minSubArrayLen</span>(<span class="params">target, nums</span>):</span><br><span class="line">        left, currSum = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        ans = <span class="built_in">len</span>(nums)</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">sum</span>(nums) &lt; target:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            currSum += nums[right]</span><br><span class="line">            <span class="keyword">while</span> currSum &gt;= target:</span><br><span class="line">                ans = <span class="built_in">min</span>(ans, right-left+<span class="number">1</span>)</span><br><span class="line">                currSum -= nums[left]</span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p>Time complexity: O(n). Space O(1).</p>
<blockquote>
<p><strong>3. Longest Substring Without Repeating Characters</strong> Given a string <code>s</code>, find the length of the <code>longest</code> substring without repeating characters.</p>
</blockquote>
<p>Keep incrementing <code>right</code>, when the window become INVALID, keep incrementing <code>left</code> till it become VALID. use <code>ans</code> to update with longest VALID window. </p>
<p>How to determine VALID&#x2F;INVALID? we can use a hashmap <code>mp</code> to store seen character with its idex, e.g., <code>s[right]: right</code>. When s[right] in the <code>mp</code>, meaning its been seen, then move <code>left</code> to the associated <code>index+1</code>. By doing so we dont need to increment <code>left</code> step by step till removing the seen character. but can directly jump to the <code>index+1</code> to remove the seen character.   </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lengthofLongestSubstring</span>(<span class="params">s</span>):</span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        left = <span class="number">0</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        mp = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> s[right] <span class="keyword">in</span> mp:</span><br><span class="line">                left = <span class="built_in">max</span>(left, mp[s[right]+<span class="number">1</span>)</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, right-left+<span class="number">1</span>)</span><br><span class="line">            mp[s[right]] = right </span><br><span class="line">        <span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>

<p>Other way is to use <code>counts</code> to record the frequency of elements in window. When <code>counts&gt;1</code> means invalid, need to increment <code>left</code> till <code>counts==1</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">lengthofLongestSubstring</span>(<span class="params">s</span>):</span><br><span class="line">        left, n = <span class="number">0</span>, <span class="built_in">len</span>(s)</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        counts = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">        <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            counts[s[right]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> counts[s[right]] &gt; <span class="number">1</span>:</span><br><span class="line">                counts[s[left]] -= <span class="number">1</span></span><br><span class="line">                left += <span class="number">1</span></span><br><span class="line">            ans = <span class="built_in">max</span>(right - left +<span class="number">1</span>, ans)</span><br><span class="line">        <span class="keyword">return</span> ans  </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>30. Substring with Concatenation of All words</strong>You are given a string <code>s</code> and an array of strings <code>words</code>. All the strings of words are of <strong>the same length</strong>. A concatenated substring in <code>s</code> is a <code>substring</code> that contains all the strings of any <strong>permutation</strong> of words concatenated.<br><br>Return the <code>starting indices</code> of all the concatenated substrings in <code>s</code>. You can return the answer in any order.</p>
</blockquote>
<blockquote>
<p>Input: s &#x3D; “barfoothefoobarman”, <br> words &#x3D; [“foo”,”bar”] <br>Output: [0,9]</p>
</blockquote>
<p><strong>How to decide if a substring is a Permutation?</strong> Check if the frequencies of the word in the window are equal to frequencies of <code>words</code>. </p>
<p>This is a fixed sized sliding window problem. And the stride of moving <code>left</code> and <code>right</code> is the length of elements in <code>words</code> rather than 1. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/16/Array/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xinheng Wu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinheng Wu's blog">
      <meta itemprop="description" content="This is my personal blog.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Xinheng Wu's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/16/Array/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-16 10:38:58" itemprop="dateCreated datePublished" datetime="2023-09-16T10:38:58+10:00">2023-09-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-09-18 10:08:19" itemprop="dateModified" datetime="2023-09-18T10:08:19+10:00">2023-09-18</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h1><blockquote>
<p>Array&#x2F;list can be resized and it is <strong>mutable</strong>. While string is <strong>immutable</strong> so it cannot be changed in-place. If we want to change something immutable (e.g., strings) we will need to recreate the entire thing. </p>
</blockquote>
<p>For example, <code>arr[2] = &quot;d&quot;</code> is right, but we cannot do <code>str[2] = &quot;d&quot;</code>. Therefore, change one element of string is O(n) operation. </p>
<h2 id="Basic-Operations"><a href="#Basic-Operations" class="headerlink" title="Basic Operations"></a>Basic Operations</h2><ul>
<li>Two Pointers</li>
<li>Sliding Windows</li>
<li>Prefix Sum</li>
</ul>
<h2 id="Two-Pointers"><a href="#Two-Pointers" class="headerlink" title="Two Pointers"></a>Two Pointers</h2><p>Having 2 integer variables that both move along an iterable. It is only an <strong>abstract</strong> idea, and there are multiple ways to move these pointers. Also, we can have 3 pointers, or even 4 pointers etc. </p>
<p>One common way to implement 2 Pointers is,</p>
<blockquote>
<p>One pointer starts at the start (<code>left = 0</code>), another pointer starts at the end (<code>right = length - 1</code>). Move them towards each other until they meet (<code>left == right</code>). </p>
</blockquote>
<h3 id="How-to-move-them-towards-each-other"><a href="#How-to-move-them-towards-each-other" class="headerlink" title="How to move them towards each other?"></a>How to move them towards each other?</h3><ol>
<li>Use a while loop until the pointers are equal.</li>
<li>At each iteration of the loop, either increment the left pointer, or decrement the right pointer, or BOTH. <strong>Which one to move depends on the problem we are trying to solve (think!)</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">left, right = <span class="number">0</span>, <span class="built_in">len</span>(arr) - <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> left &lt; right:</span><br><span class="line">    Do some logic here depending on the problem.</span><br><span class="line">    Do some more logic here to decide on one of following:</span><br><span class="line">    * left += <span class="number">1</span></span><br><span class="line">    * right -+= <span class="number">1</span></span><br><span class="line">    * both left += <span class="number">1</span> <span class="keyword">and</span> right -= <span class="number">1</span> </span><br></pre></td></tr></table></figure>

<p><strong>Time Complexity</strong> is O(n) as we will never have more than n iterations. </p>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><blockquote>
<p><strong>Example 1:</strong> Palindrome string. Given a string <code>s</code>, return <code>True</code> if it is a palindrome, <code>False</code> otherwise. For example, “abcdcba” is a palindrome. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">left, right = <span class="number">0</span>, <span class="built_in">len</span>(s) - <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> left &lt; right:</span><br><span class="line">    <span class="keyword">if</span> s[left] != s[right]:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line">        right -= <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">True</span> </span><br></pre></td></tr></table></figure>
<p>Time complexity is O(n). Space Complexity is O(1).</p>
<blockquote>
<p><strong>Example 2:</strong> Given a sorted array of unique intergers and a target integer, return <code>True</code> if there exists a pair of numbers that sum to target, <code>False</code> otherwise. This is similar to <strong>Two Sum</strong> (in which the input is not sorted).</p>
</blockquote>
<p>Because the input is <strong>sorted</strong>, so if current sum is larger than target, we can move left so that the sum will be reduced. Otherwise, we move right so that the sum will be increased. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">left, right = <span class="number">0</span> <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> left &lt; right:</span><br><span class="line">    currSum = nums[left] + nums[right]</span><br><span class="line">    <span class="keyword">if</span> currSum == target:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">elif</span> currSum &gt; target:</span><br><span class="line">        left -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        right += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<p>Time complexity is O(n). Space Complexity is O(1).</p>
<h3 id="Another-Approach"><a href="#Another-Approach" class="headerlink" title="Another Approach"></a>Another Approach</h3><p>When the problem has <strong>two iterables</strong> in the input, e.g., two arrays. </p>
<blockquote>
<p>Move along BOTH inputs simultaneously until all elements have been checked.</p>
</blockquote>
<ol>
<li>Each pointer starts at the first index.</li>
<li>Use a while loop untill one of the pointers reaches the end.</li>
<li>At each iteration of the loop, move the pointers forward. Meaning either ONE of the pointers or BOTH. Depending on the problem.</li>
<li>Because the while loop stops when one of the pointers reaches the end, the other pointer will not be at the end. <strong>Sometimes, we may need to write extra code to make sure both iterables are exhausted.</strong></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="built_in">len</span>(arr1) <span class="keyword">and</span> j &lt; <span class="built_in">len</span>(arr2):</span><br><span class="line">    Do some logic here w.r.t problems.</span><br><span class="line">    Do some logic here to decide:</span><br><span class="line">    * i += <span class="number">1</span></span><br><span class="line">    * j += <span class="number">1</span></span><br><span class="line">    * BOTH</span><br><span class="line"><span class="comment"># Make sure both iterables are exhauseted? and then decide either below, </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt; <span class="built_in">len</span>(arr1):</span><br><span class="line">    Do some logic here w.r.t the problems.</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> j &lt; <span class="built_in">len</span>(arr2):</span><br><span class="line">    Do some logic here</span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Time complexity:</strong> O(n+m)</p>
<blockquote>
<p><strong>Example 3:</strong> Given two sorted integer arrays <code>arr1</code> and <code>arr2</code>, return a new array the combines both of them and is also sorted. (Merge two sorted arrays)</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">n1, n2 = <span class="built_in">len</span>(arr1), <span class="built_in">len</span>(arr2)</span><br><span class="line">ans = []</span><br><span class="line"><span class="keyword">while</span> i &lt; n1 <span class="keyword">and</span> j &lt; n2:</span><br><span class="line">    <span class="keyword">if</span> arr1[i] &lt;= arr2[j]:</span><br><span class="line">        ans.append(arr1[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ans.append(arr2[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt; n1:</span><br><span class="line">    ans.append(arr1[i])</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> j &lt; n2:</span><br><span class="line">    ans.append(arr2[j])</span><br><span class="line">    j += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>
<p><strong>Time complexity:</strong> O(n+m)</p>
<blockquote>
<p><strong>Example 4:</strong> 392. Is Subsequence. Given two strings <code>s</code> and <code>t</code>, return <code>True</code> if <code>s</code> is a <strong>subsequence</strong> of <code>t</code>, or <code>False</code> otherwise. </p>
</blockquote>
<p>Subsequence is <strong>ordered</strong>, but may NOT neccesarily contiguous sub list of elements.</p>
<p>We consider to move <code>j</code> if <code>arr2[j] != arr1[i]</code>, and move <code>i</code> if <code>arr1[i] == arr2[j]</code>. Return <code>False</code> if <code>i</code> not at the end plus one, e.g., <code>i != len(s)</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i, j = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">n1, n2 = <span class="built_in">len</span>(s), <span class="built_in">len</span>(t)</span><br><span class="line"><span class="keyword">while</span> i &lt; n1 <span class="keyword">and</span> j &lt; n2:</span><br><span class="line">    <span class="keyword">if</span> s[i] != t[j]:</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> i==<span class="built_in">len</span>(s)</span><br></pre></td></tr></table></figure>

<h2 id="Sliding-Window"><a href="#Sliding-Window" class="headerlink" title="Sliding Window"></a>Sliding Window</h2><p>The important thing is that Sliding Window are iterables with <strong>ORDERED elements</strong>. While Two Pointers can be with any array&#x2F;strings. </p>
<p>Any sliding window is a subarray, which is a contiguous section of the array. Two indexes (e.g., left, right) defines the subarray&#x2F;window. </p>
<h3 id="When-do-we-use-Sliding-Window"><a href="#When-do-we-use-Sliding-Window" class="headerlink" title="When do we use Sliding Window?"></a>When do we use Sliding Window?</h3><ol>
<li>The problem will set a criteria that make a subarray <em>VALID</em>. For example, a <strong>constant metric</strong> (sum&#x2F;frequency), that is bigger&#x2F;smaller&#x2F;equal to a <strong>numeric number</strong>.  </li>
<li>The problem will aks you to find VALID subarrays in some ways. e.g., the best subarray, longest. Or the number of valid subarrays.</li>
</ol>
<blockquote>
<p>Whenever a problem description talks about subarrays, you need to think if Sliding Window is a good option or not, by analyzing above mentioned scenarios.</p>
</blockquote>
<h3 id="The-Algorithm"><a href="#The-Algorithm" class="headerlink" title="The Algorithm"></a>The Algorithm</h3><p>The idea behind Sliding Window is to consider <strong>only</strong> VALID subarrays.</p>
<p>Initially, <code>left = right = 0</code>. Then we want to expand the size of our window by incrementing <code>right</code>, i.e., adding a new element. </p>
<p>If after adding a new element, the subarray become “invalid”. We need to “remove” some elements from our window untill it becomes valid again. i.e., incrementing left, which shrinks the window. </p>
<p>As we add and remove elements, we are “sliding” the window along the input from left to right. The window’s size is changing, as it grows as large as it can untill it becomes invalid, then it shrinks. </p>
<blockquote>
<p>Remember that, we always want to <strong>keep expanding</strong> the window and only shrink the window when it becomes invalid. So we can use <code>for loop</code> to increment <code>right</code>, and use <code>while loop</code> to increment <code>left</code> while it is invalid. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">left, n = <span class="number">0</span>, <span class="built_in">len</span>(arr)</span><br><span class="line"><span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    Do some logic to add element at arr[right].</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> window_is_invalid:</span><br><span class="line">        Do some logic to remove arr[left].</span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    Do some logic to update the answer.</span><br></pre></td></tr></table></figure>
<h3 id="Why-is-sliding-window-efficient"><a href="#Why-is-sliding-window-efficient" class="headerlink" title="Why is sliding window efficient?"></a>Why is sliding window efficient?</h3><p>The number of subarrays through iteration is $\frac{n*(n+1)}{2}$ which is O($n^2$). While sliding window is amortized O(n). </p>
<blockquote>
<p><strong>Example 1:</strong> Given an array of positive integers <code>nums</code> and an interger <code>k</code>, find the length of the longest subarray whose <code>sum &lt;= k</code>. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">left, n = <span class="number">0</span>, <span class="built_in">len</span>(nums)</span><br><span class="line">currSum, ans = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    currSum += nums[right]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> currSum &gt; k:</span><br><span class="line">        currSum -= nums[left]</span><br><span class="line">        left += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    ans = <span class="built_in">max</span>(ans, left - right + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Example 2:</strong> You are given a binary string <code>s</code>. You may choose up to one <code>0</code> to flip it to a <code>1</code>. What is the length of the longest substring achievable that contains only <code>1</code>? For example, given <code>s = &quot;1101100111&quot;</code>, the answer is <code>5</code>, if you perform the flip at <code>index = 2</code>. The string becomes <code>&quot;1111100111&quot;</code>.</p>
</blockquote>
<p>It actually asks the longest subarray contains at most one <code>0</code>. </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">find_length</span>(<span class="params">s</span>):</span><br><span class="line">    left, n, counts = <span class="number">0</span>, <span class="built_in">len</span>(s), <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">if</span> s[right] == <span class="string">&quot;0&quot;</span>:</span><br><span class="line">            counts += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> counts &gt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">if</span> s[left] == <span class="string">&quot;0&quot;</span>:</span><br><span class="line">                counts -= <span class="number">1</span></span><br><span class="line">            left += <span class="number">1</span></span><br><span class="line">        ans = <span class="built_in">max</span>(ans, left-right+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h3 id="Number-of-Subarrays"><a href="#Number-of-Subarrays" class="headerlink" title="Number of Subarrays"></a>Number of Subarrays</h3><p>The number of valid windows <strong>ending</strong> at index <code>right</code> is <code>right - left + 1</code>. Because you can fix the <code>right</code> index, and move <code>left</code> any value between <code>left</code>, and <code>right</code> <strong>inclusive</strong>.</p>
<blockquote>
<p><strong>Example 3:</strong> 713. Subarray Product Less Than K. Given an array of positive integers <code>nums</code> and an integer <code>k</code>, return the number of subarrays where the product of all the elements in the subarray is strinctly less than <code>k</code>. For example, <code>nums = [10, 5, 2, 6]</code> and <code>k = 100</code>, the answer is <code>8</code>. The valid subarrays are <code>[10], [5], [2], [6], [10,5], [5,2], [2,6],  [5,2,6]</code>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> k &lt;= <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">left, currProd = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">ans  = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">    currProd *= nums[right]</span><br><span class="line">    <span class="keyword">while</span> currProd  &gt;= k:</span><br><span class="line">        currProd //= nums[left]</span><br><span class="line">        left  +=  <span class="number">1</span></span><br><span class="line">    ans +=  left - right + <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>

<h3 id="Fixed-Window-Size"><a href="#Fixed-Window-Size" class="headerlink" title="Fixed Window Size"></a>Fixed Window Size</h3><p>In above scenarios, we have dynamic window size, as we always want to expand the window till it becomes invalid.  Sometimes, a problem may specify a <strong>fixed</strong> length <code>k</code>.</p>
<p>Start by building the first window (from index <code>0</code> to <code>k-1</code>). Then, when we add an element at index <code>i</code>, we need to remove an element at index <code>i-k</code>.</p>
<blockquote>
<p><strong>Example 4:</strong> Given an integer array <code>nums</code> and an integer <code>k</code>, find the sum of the subarray with the largest sum whose length is <code>k</code>.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">currSum, n = <span class="number">0</span>, <span class="built_in">len</span>(nums)</span><br><span class="line"><span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">    currSum += nums[right]</span><br><span class="line">ans = currSum</span><br><span class="line"><span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(k,n):</span><br><span class="line">    currSum += nums[right]</span><br><span class="line">    currSum -= nums[right-k]</span><br><span class="line">    ans = <span class="built_in">max</span>(currSum, ans)</span><br><span class="line"><span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>





<h2 id="Prefix-Sum"><a href="#Prefix-Sum" class="headerlink" title="Prefix Sum"></a>Prefix Sum</h2><p>The idea is to create an array <code>prefix</code> where <code>prefix[i]</code> is the sum of all elements up to the index <code>i</code> (inclusive).</p>
<p><strong>Prefix Sum</strong> allow us to find the sum of any subarray in O(1). If we want the sum of the subarray from <code>i</code> to <code>j</code> (inclusive), then the answer is <code>prefix[j] - prefix[i-1]</code> or <code>prefix[j] - prefix[i] + nums[i]</code> if you dont want to deal with edge case when <code>i = 0</code> so <code>i - 1</code> is out of index.</p>
<p>Building a prefix sum is simple.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">prefix = [nums[<span class="number">0</span>]]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    prefix.append(prefix[-<span class="number">1</span>] + nums[i])</span><br></pre></td></tr></table></figure>

<h3 id="When-Prefix-Sum-is-efficient"><a href="#When-Prefix-Sum-is-efficient" class="headerlink" title="When Prefix Sum is efficient?"></a>When Prefix Sum is efficient?</h3><p>A <strong>Prefix Sum</strong> is a great tool whenever a problem involves sums of a subarray. Only costs O(n) to <strong>build the prefix</strong>, and allows future enquires of sums to be O(1).</p>
<blockquote>
<p><strong>Example 1:</strong> Given an integer array <code>nums</code>, an array queries where <code>queries[i] = [x, y]</code> and an integer <code>limit</code>, return a boolean array that represents the answer to each query. A query is <code>true</code>  if the sum of the subarray from <code>x</code> to <code>y</code> is less than <code>limit</code>, or <code>false</code> otherwise. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">prefix = [nums[<span class="number">0</span>]]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(nums)):</span><br><span class="line">    prefix.append(prefix[-<span class="number">1</span>] + nums[i])</span><br><span class="line">ans = []</span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> queries:</span><br><span class="line">    curr = prefix[y] - prefix[x] + nums[x]</span><br><span class="line">    ans.append(curr &lt; limit)</span><br><span class="line"><span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<p><strong>Time complexity</strong> is $O(n+m)$, where m is the length of queries. <strong>space complexity</strong> is $O(n)$.</p>
<blockquote>
<p><strong>Example 2:</strong> Leetcode 2270. Given an integer array <code>nums</code>, find the number of ways to split the array into two parts so that the first section has a sum greater than or equal to the sum of the second section. The second section should at least has one number. </p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ans = <span class="number">0</span></span><br><span class="line">prefix = [nums[<span class="number">0</span>]]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">    prefix.append(prefix[-<span class="number">1</span>] + nums[i])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>):</span><br><span class="line">    first = prefix[i]</span><br><span class="line">    second = prefix[-<span class="number">1</span>] - first</span><br><span class="line">    <span class="keyword">if</span> fiirst &gt;= second:</span><br><span class="line">        ans += <span class="number">1</span> </span><br><span class="line"><span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<p>If we calculate the first section sum on-the-fly. We can reduce the Space complexity to $O(1)$.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ans, first = <span class="number">0</span>, <span class="number">0</span> </span><br><span class="line">totalSum = <span class="built_in">sum</span>(nums)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)-<span class="number">1</span>):</span><br><span class="line">    first += nums[i]</span><br><span class="line">    second = totalSum - first</span><br><span class="line">    <span class="keyword">if</span> first &gt;= second:</span><br><span class="line">        ans += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>












      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/09/15/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Xinheng Wu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinheng Wu's blog">
      <meta itemprop="description" content="This is my personal blog.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Xinheng Wu's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2023/09/15/hello-world/" class="post-title-link" itemprop="url">Hello World</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2023-09-15 17:26:27" itemprop="dateCreated datePublished" datetime="2023-09-15T17:26:27+10:00">2023-09-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2023</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Xinheng Wu</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
